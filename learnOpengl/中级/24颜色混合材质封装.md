在`material.h`中创建相应的有关于颜色混合的变量
```cpp
public:
	...
	//颜色混合
	bool	mBlend{ false };
	unsigned int	mSFactor{GL_SRC_ALPHA};
	unsigned int	mDFactor{GL_ONE_MINUS_SRC_ALPHA};

	float	mOpacity{ 1.0f };

```
然后去`phong.frag`中加入透明度参数
```glsl
//透明度
uniform float opacity;

void main()
{
	...
	vec3 objectColor  = texture(sampler, uv).xyz;
	float alpha  = texture(sampler, uv).a;
	...
	FragColor = vec4(finalColor, alpha * opacity);
}
```
去到`render.cpp`中，设
```cpp
void Renderer::render(
	Scene* scene, 
	Camera* camera,
	DirectionalLight* dirLight,
	AmbientLight* ambLight
) {
	////1 设置当前帧绘制的时候，opengl的必要状态机参数
	glEnable(GL_DEPTH_TEST);
	glDepthFunc(GL_LESS);
	glDepthMask(GL_TRUE);

	glDisable(GL_POLYGON_OFFSET_FILL);
	glDisable(GL_POLYGON_OFFSET_LINE);

	// 开启测试、设置基本写入状态，打开模板测试写入
	glEnable(GL_STENCIL_TEST);
	glStencilOp(GL_KEEP, GL_KEEP, GL_KEEP);
	glStencilMask(0xFF);//保证模板缓冲可以被清理

	// 默认关闭颜色混合
	glDisable(GL_BLEND);

	...
}

```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIwODQ2ODE4NTZdfQ==
-->