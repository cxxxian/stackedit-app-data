1. 制作透明度蒙版的`shader`

直接将`phong.frag`和`phong.vert`复制一份即可
对于`phong.frag`，将原本的`specularMaskSampler`修改为我们要用的透明度蒙版采样器`opacityMaskSampler`
所以我们的`alpha`就直接读取`OpacityMaskSampler`的`r`就行（因为黑白贴图的`rgb`都是灰度值一样的）
```glsl
#version 460 core
out vec4 FragColor;
...
uniform sampler2D sampler;	//diffuse贴图采样器
uniform sampler2D OpacityMaskSampler;//opacityMask贴图采样器
...
void main()
{
	...
	vec3 objectColor  = texture(sampler, uv).xyz;
	float alpha  = texture(OpacityMaskSampler, uv).r;
	...

	FragColor = vec4(finalColor, alpha * opacity);
}
```

2. 增加透明蒙版的`Material`

`opacityMaterial.h`如下：
```cpp
#pragma once
#include "material.h"
#include "../texture.h"

class OpacityMaterial :public Material {
public:
	OpacityMaterial();
	~OpacityMaterial();

public:
	Texture*	mDiffuse{ nullptr };
	Texture*	mOpacityMask{ nullptr };
	float		mShiness{ 1.0f };
};
```
`opacityMaterial.cpp`如下：
```cpp
#include "opacityMaterial.h"

OpacityMaterial::OpacityMaterial() {
	mType = MaterialType::OpacityMaterial;
}

OpacityMaterial::~OpacityMaterial() {

}
```
在`material.h`的枚举类添置`OpacityMaterial`
```cpp
enum class MaterialType {
	PhongMaterial,
	WhiteMaterial,
	DepthMaterial,
	OpacityMaterial
};
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTYxNDY2Mzk2LC0yMDg4NzQ2NjEyXX0=
-->