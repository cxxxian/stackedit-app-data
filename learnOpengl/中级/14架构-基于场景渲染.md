![输入图片说明](/imgs/2024-12-01/O3tfHwFNgKCS621u.png)

此处的`Object`当成空节点，只有`Mesh`有东西

![输入图片说明](/imgs/2024-12-01/6TQ68Nl78xMyeSKS.png)

![输入图片说明](/imgs/2024-12-01/IOYuiiqn5fpiZMvB.png)

目标：
1. 加入场景结构类`Scene`
2. 加入`Object`分类设定
3. 更改`Render`流程，加入对`Scene`的解析以及递归调用

### 目标一
创建`scene.h`和`scene.cpp`
```
#pragma once
#include "core.h"
#include "object.h"

class Scene :public Object {
public:
	Scene();
	~Scene();
};
```

### 目标二
在`Object`类中加入`enum`枚举，
以及设计一个函数用来获取类型信息，和一个变量用来记录类型
```
#pragma once
#include "core.h"

enum ObjectType {
	object,
	mesh,
	scene
};
class Object {
public:
	...
	//获取类型信息
	ObjectType getType() const { return mType; }

protected:
	...
	//类型记录
	ObjectType mType;
};
```
然后我们就可以去到两个`Object`的子类：`Mesh`和`Scene`
在他们的构造函数中将`mType`正确赋值
```
Mesh::Mesh(Geometry* geometry, Material* material)
{
	mGeometry = geometry;
	mMaterial = material;
	mType = ObjectType::mesh;
}
```
```
Scene::Scene()
{
	mType = ObjectType::acene;
}
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTUwMDUzMTYyNiwxNzA2MjM0NzE2LC0xMD
g3NjQzODI3LC0xODQ1OTc3Mzg1LDIyMjc4NDgyOCwtMTc0NzIy
MzAwNF19
-->