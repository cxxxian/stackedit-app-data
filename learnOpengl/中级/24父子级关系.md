
![输入图片说明](/imgs/2024-11-30/jyL8etiIcWK96O1p.png)

![输入图片说明](/imgs/2024-11-30/Bk1dHXbXbVYzBHKr.png)

在`object.h`中，添加关于父子关系的变量和函数声明
```
class Object {
public:
	...
	//父子关系
	void addChild(Object* obj);
	std::vector<Object*> getChildren();
	Object* getParent();

protected:
	...
	//父子关系
	std::vector<Object*> mChildren{};
	Object* mParent{ nullptr };
};
```
并到object.c
```
void Object::addChild(Object* obj)
{
	//1 检查是否曾经加入过这个孩子
	auto iter = std::find(mChildren.begin(), mChildren.end(), obj);
	if (iter != mChildren.end()) {
		std::cerr << "Duplicated Child added" << std::endl;
		return;
	}
	//2 加入孩子
	mChildren.push_back(obj);

	//3 告诉新加入的孩子他的爸爸是谁
	obj->mParent = this;
}

std::vector<Object*> Object::getChildren()
{
	return mChildren;
}

Object* Object::getParent()
{
	return mParent;
}
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTM2MDU1NTIxNywtOTUxMDQyOTE2LDExOT
A3NzIyXX0=
-->